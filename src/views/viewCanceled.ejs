<html>

<head>
  <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/css/blogcss.css" />
  <%- include('../views/partials/links'); %>

</head>

<body>

  <!-- header part -->

    <nav class="navbar navbar-expand-lg bg-primary navbar-light">
      <div class="container mt-1">
        <h2 class="text-white">Fintrak</h2>
        <button class="navbar-toggler btn btn-secondary" type="button" data-toggle="collapse" data-target="#collapsenavbar">
          <span class="navbar-toggler-icon "></span>
        </button>
        <div class="collapse navbar-collapse text-center" id="collapsenavbar">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item px-2">
              <a href="/expenses" class="nav-link text-white"> EXPENSES </a>
            </li>
            <li class="nav-item px-2">
              <a href="/requests" class="nav-link text-dark"> REQUESTS </a>
            </li>
            <li class="nav-item px-2">
              <a href="/users" class="nav-link text-white"> USERS </a>
            </li>
            <li class="nav-item px-2">
              <a href="/alladmin" class="nav-link text-white"> ADMINS </a>
            </li>
            <li class="nav-item px-2">
              <a href="/logout" class="nav-link text-white"> LOGOUT </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

  <!-- page content -->

  <% function formatDate(dateObject) { let d=new Date(dateObject); let day=d.getDate(); let month=d.getMonth() + 1; let
    year=d.getFullYear(); if (day < 10) { day="0" + day; } if (month < 10) { month="0" + month; } let date=month + "-" +
    day + "-" + year; return date; }; %>

    <section class="pt-3 justify-content-center position-relative ">

      <div class="container">

        <div class="row justify-content-center">
          <% expenses.forEach(expense=> { %>
            <div class="card mt-4">
              <div class="card-body">
                <p class="card-text"><i class="fas fa-clipboard-list"
                    style="font-size:18px; color:#007bff; padding-right: 8px;"></i>
                  <b>
                    <%= expense.name %>
                  </b>
                </p>
                <p class="card-text"><i class="fas fa-user" style="font-size:18px; color:#007bff; padding-right: 8px;"></i>
                  <%= expense.userId.userName %>
                </p>
                <p class="card-text"><i class="fas fa-calendar"
                    style="font-size:18px; color:#007bff; padding-right: 8px;"></i>
                  <%= formatDate(expense.date) %>
                </p>
                <p class="card-text"><i class="fas fa-dollar"
                    style="font-size:18px; color:#007bff; padding-right: 8px;"></i>
                  <%= expense.amount %>
                </p>
                <p class="card-text"><i class="fas fa-shield-check" style="font-size:18px; color:#007bff;; padding-right: 8px;"></i>
                  <%= expense.status %>
                </p>
              </div>
            </div>
            <% }) %>
        </div>

      </div>

      </div>

    </section>

    <%- include('../views/partials/footer'); %>

</body>

</html>